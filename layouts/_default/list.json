{{- $posts := where .Site.RegularPages "Type" "posts" -}}
{{- $data := slice -}}
{{- range $posts -}}
  {{- $item := dict "title" .Title "url" .Permalink "date" (.Date.Format "2006-01-02") "lastmod" (.Lastmod.Format "2006-01-02") "summary" (.Summary | plainify | truncate 200) "description" .Params.description "tags" (.Params.tags | default slice) "categories" (.Params.categories | default slice) "author" (.Params.author | default slice) "readingTime" .ReadingTime "wordCount" .WordCount "language" .Language.Lang "featuredImage" .Params.featured_image -}}
  {{- $data = $data | append $item -}}
{{- end -}}
{{- dict "posts" $data "count" (len $data) "generated" (now.Format "2006-01-02T15:04:05Z07:00") | jsonify (dict "indent" "  ") -}}
